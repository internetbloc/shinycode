<!doctype html>
<html>
    <head>
        <meta charset="utf-8" />
        
        <link rel="stylesheet" href="lib/jqwidgets/styles/jqx.base.css" type="text/css" />
        <link rel="stylesheet" href="lib/jqwidgets/styles/jqx.metrodark.css" type="text/css" />
        <link rel="stylesheet/less" type="text/css" href="assets/ide-main.less" />
        
        <!-- Less Clientside Settings (less.watch()) is in src/bootstrap -->
        <script>
          less = {
            env: "development",
            /* can change these if livereload gets too slow */
            async: false,
            fileAsync: false,
            poll: 3600,
            functions: {
            },
            dumpLineNumbers: "comments",
            relativeUrls: false,
            rootpath: "/assets/"
          };
        </script>
        <!-- /End Less -->
        
        <!-- Dedependency Scripts (Loaded outside of the require system) -->
        <script type="text/javascript" src="lib/jquery-1.11.1.js"></script>
        
        <!-- jqxwidgets -->
        <script type="text/javascript" src="lib/jqwidgets/jqxcore.js"></script>
        <script type="text/javascript" src="lib/jqwidgets/jqxsplitter.js"></script>
        <script type="text/javascript" src="lib/jqwidgets/jqxbuttons.js"></script>
        <script type="text/javascript" src="lib/jqwidgets/jqxscrollbar.js"></script>
        <script type="text/javascript" src="lib/jqwidgets/jqxpanel.js"></script>
        <script type="text/javascript" src="lib/jqwidgets/jqxlistmenu.js"></script>
        <script type="text/javascript" src="lib/jqwidgets/jqxmenu.js"></script>
        <script type="text/javascript" src="lib/jqwidgets/jqxtabs.js"></script>        
        <!-- Others -->
        <script type="text/javascript" src="lib/less.js"></script>
        <script type="text/javascript" src="lib/ace_editor/src-min-noconflict/ace.js" charset="utf-8"></script>
        <!-- /Scripts -->
    </head>
    <body class="ace-chaos" onload="jsProblems()">
        <!-- whole code editor wrap -->
        <div id="wrapper" class="pure-g">
        
        <!-- Header -->
            
            <header id="menu" class="pure-u-1">
                <menubar>
                    <!-- we can hook custom JS to these now in HTML5 but just set display: block nd w.e in CSS first. -->
                    <menu  id="list-menubar" class="pure-menu pure-menu-open pure-menu-horizontal">
                        <h1 class="pure-menu-heading"><a href="#" title="link to homepage">shinycode</a></h1>
                        <!-- inner div for styling this would be the actual popout menu -->

<!--
    // edit:
    dropdown menus handled from one list
-->
                        <ul >
                            <li>
                                <a href="#">File</a>
                                <ul>
                                    <li><a href="#" class="icon-file2">New</a></li>
                                    <li><a href="#" class="icon-folder-open">Open</a></li>
                                    <li>
                                        <a href="#" class="icon-stopwatch">Recent</a>
                                        <ul  class="icon-bell">
                                            <li>etc</li>
                                            <li>etc</li>
                                            <li>etc</li>
                                            <li>etc</li>
                                        </ul>
                                    </li>
                                    <li><a href="#" class="icon-exit">Exit</a></li>
                                </ul>
                            </li>
                            <li>
                                <a href="#">Edit</a>
                                <ul >
                                    <li><a href="#" class="icon-file-xml">Copypasta</a></li>
                                    <li><a href="#" class="icon-html5">Select All</a></li>
                                </ul>
                            </li>
                            <li>
                                <a href="#">Other</a>
                                <ul>
                                    <li><a href="#" class="icon-file-zip">Link</a></li>
                                    <li><a href="#" class="icon-file-zip">Link</a></li>
                                    <li><a href="#" class="icon-file-zip">Link</a></li>
                                </ul>
                            </li>
                        </ul>
                    </menu>
                </menubar>
            </header>
        
        <!-- Inner Content -->
        <div id="center_wrap">
            
            <!-- directory listing, favorites, or some other "navigation pane" -->
            <aside id="ls" class="pure-u-1-3 shiny-fullheight">
                <nav id='dir-list' class='sidebar-ls'>
                    <h2>Current Working Directory "shinycode/"</h2>
                    <ul class='sidebar-ls-cwd' >
                        <li><a href="#" class='sidebar-ls-up icon-arrow-up'>..</a></li>
                        <li><a href="#" class='sidebar-ls-dir icon-folder'>app/</a></li>
                        <li><a href="#" class='sidebar-ls-hidden icon-file4'>.dropbox</a></li>
                        <li><a href="#" class='sidebar-ls-js icon-file-css'>app.js</a></li>
                        <li><a href="#" class='sidebar-ls-js icon-file-css'>class.js</a></li>
                        <li><a href="#" class='sidebar-ls-ini icon-file-css'>desktop.ini</a></li>
                        <li><a href="#" class='sidebar-ls-htm icon-html5'>ide-template.html</a></li>
                        <li><a href="#" class='sidebar-ls-htm icon-html5'>index.html</a></li>
                        <li><a href="#" class='sidebar-ls-md icon-file4'>README.md</a></li>
                        <li><a href="#" class='sidebar-ls-css icon-file-css'>reset.css</a></li>
                        <li><a href="#" class='sidebar-ls-css icon-file-css'>style.maybe.css</a></li>
                    </ul>
                </nav>
                <nav id='recent' class='sidebar-ls'>
                    <h2>Recent Documents</h2>
                    <ul>
                        <li><a href="#" class="icon-file-css">class.js</a></li>
                    </ul>
                </nav>
                <!-- etc -->
            </aside>
            
            <section id="container" class="pure-u-1 shiny-fullheight">
                
                <div id="tabs">
                    <ul>
                        <li>helloworld.java</li>
                        <li>helloworld.java</li>
                    </ul>                
                    <div class="tab-content-editor">
                    
                    <page id="somecodefile223">
<!-- Intent for demo code -->
<div class="codeedit">
<div id="codeeditor_0" class="editor">
import javax.swing.JFrame;  //Importing class JFrame
import javax.swing.JLabel;  //Importing class JLabel
public class HelloWorld {
	public static void main(String[] args) {
		JFrame frame = new JFrame();           //Creating frame
		frame.setTitle("Hi!");                 //Setting title frame
		frame.add(new JLabel("Hello, world!"));//Adding text to frame
		frame.pack();                          //Setting size to smallest
		frame.setLocationRelativeTo(null);     //Centering frame
		frame.setVisible(true);                //Showing frame
	}

</div>
</div>
<!-- /indent -->
                    </page>
                    
                </div>
                <div><h2>asdf</h2></div>
        </section>
        <!-- all apps need footers -->
        
        <!-- Application Scripts 1 -->
        <script src="/js/app.js" type="text/javascript"></script>
        
        <script>
            // template test code
            $(function(){
                // Main splitter (sidebar|content)
                $('#center_wrap').jqxSplitter({ theme: 'metrodark', panels: [{ size: 250 }] });
                $('#list-menubar').jqxMenu({ theme: 'metrodark', width: "100%", height: 32 });
                $('#tabs').jqxTabs({ theme: 'metrodark', width: "100%" });
                $('#tabs').bind('selected', function(evt) {
                    var item = evt.args.item,
                        title = $('#tabs').jqxTabs('getTitleAt', item);
                });
                
                // Create the editor
                var editor = ace.edit("codeeditor_0");
                editor.setTheme("ace/theme/chaos");
                editor.getSession().setMode("ace/mode/javascript");
                
                $("#container").css('width', '100%');
            });
            /**
             * TODO: regarding section#container, the jqxSplitter module
             * is setting the width incorrectly in Firefox randomly.
             * It always sets it to 43px, though this is probably based on a
             * calculation. Still, it sets the element.style.width property
             * which is rendered as an inline style and therefore with highest
             * specificity. 

             * tl;dr JAVASCRIPT BUG IN jqxSplitter, perhaps being called before
             * page is fully rendered.
             *
             * temp fix. ~tso 11/21/2014 11:46:05 AM */
            function jsProblems()
            {
                var problemChild = document.getElementById('container');
                if(problemChild.style.width == "43px")
                    problemChild.style.width = "100%";
            }
        </script>
    </body>
</html>
